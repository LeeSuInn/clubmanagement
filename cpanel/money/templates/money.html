{% if messg %}
<script>
    alert('{{messg}}');
</script>
{% endif %}

{% load static %}
<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }
        #editButton {
            float: right;
            margin-top: -50px;
            margin-right: 20px; 
            cursor: pointer;
        }

        #money-link {
            position: relative;
        }
    
        #money-submenu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 8px;
            width: 115px; /* 너비 축소 */
        }
            
        #money-submenu li {
            list-style: none; 
            margin-bottom: 5px; /* 각 메뉴 간격 조정 */
        }
    
        #money-submenu a {
            text-decoration: none;
            color: #333;
            display: block;
            padding: 3px; /* 내부 여백 축소 */
            white-space: nowrap; /* 텍스트 줄바꿈 방지 */
        }
    
        #money-link:hover #money-submenu {
            display: block;
        }
    </style>
    <title>동아리통합시스템</title>
</head>
<body>
    <header>
        <div class="logo">로고</div>
        <nav>
            <ul>
                {% if request.session.uid %}
                    <li><a href="/your_view/">동아리통합시스템</a></li>
                {% else %}
                    <li><a href="/index/">동아리통합시스템</a></li>
                {% endif %}
                    <li><a href="/members/">부원관리</a></li>
                    <li id="money-link">
                        <a href="/money/">회비관리</a>
                        <ul class="submenu" id="money-submenu">
                            <li><a href="/money/">회비 목록</a></li>
                            <li><a href="/pay_dues_list/">회비 납부 내역</a></li>
                        </ul>
                    </li>
                    <li><a href="/calendar/">일정관리</a></li>
                {% if request.session.uid %}
                    <li><a href="/logout/">로그아웃</a></li>
                {% else %}
                    <li><a href="/signIn/">로그인</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>
    <h2>회비 목록</h2>

    <button id="editButton">수정하기</button>

    <table id="moneyTable">
        <thead>
            <tr>
                <th>입/출금</th>
                <th>날짜</th>
                <th>사유</th>
                <th>잔액(잔액도 수정해주세요)</th>
            </tr>
        </thead>
        <tbody>
            <!-- 테이블의 내용이 동적으로 추가될 부분 -->
        </tbody>
    </table>

    <script>
        
        var data = [
            { deposit_withdrawal: '+30000', date: '6월 3일', reason: '주웠음', balance: '70000'},
            { deposit_withdrawal: '-20000', date: '4월 5일', reason: '잃어버렸음', balance: '40000'},
        ];

        // 테이블에 데이터 동적으로 추가
        var tableBody = document.querySelector('#moneyTable tbody');

        data.forEach(function (member) {
            var row = tableBody.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            

            cell1.textContent = member.deposit_withdrawal;
            cell2.textContent = member.date;
            cell3.textContent = member.reason;
            cell4.textContent = member.balance;

            var editButton = document.createElement('button');
            editButton.textContent = '수정하기';
            editButton.className = 'edit-button';

        });
    </script>
</body>
</html>
